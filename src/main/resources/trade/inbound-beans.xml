<!--
 | Copyright 2015 C24 Technologies.
 |
 | Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"),
 | to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense,
 | and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 |
 | The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 |
 | THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 | FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL C24 TECHNOLOGIES BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 | WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 | SOFTWARE.
 |
-->
<beans:beans xmlns="http://www.springframework.org/schema/integration"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns:beans="http://www.springframework.org/schema/beans"
             xmlns:int="http://www.springframework.org/schema/integration"
             xmlns:context="http://www.springframework.org/schema/context"
             xsi:schemaLocation="http://www.springframework.org/schema/beans
			http://www.springframework.org/schema/beans/spring-beans.xsd
			http://www.springframework.org/schema/context
			http://www.springframework.org/schema/context/spring-context.xsd
			http://www.springframework.org/schema/integration
			http://www.springframework.org/schema/integration/spring-integration.xsd">

    <!-- ====================================================================== -->
    <!-- Scan for any configuration classes-->
    <!-- ====================================================================== -->
    <context:component-scan base-package="biz.c24.io.configuration"/>
    <context:component-scan base-package="biz.c24.io.demo"/>


    <!-- ====================================================================== -->
    <!-- The Inbound Channel -->
    <!-- ====================================================================== -->
    <int:channel id="inbound-file-polling-channel"/>

    <!-- ====================================================================== -->
    <!-- The Channel that batch messages are sent to after parsing -->
    <!-- ====================================================================== -->
    <int:channel id="trade-item-writer-channel"/>

    <!-- ====================================================================== -->
    <!-- Route messages based on the payload expression -->
    <!-- ====================================================================== -->
    <int:channel id="trade-content-router-channel"/>



    <!-- ====================================================================== -->
    <!-- Inbound Read Directory -->
    <!-- ====================================================================== -->
    <beans:bean id="inboundReadDirectory" class="java.io.File">
        <beans:constructor-arg value="${inbound.read.path}"/>
    </beans:bean>

    <!-- ====================================================================== -->
    <!-- Place all messages that were successfully ingested and processed here -->
    <!-- ====================================================================== -->
    <beans:bean id="inboundProcessedDirectory" class="java.io.File">
        <beans:constructor-arg value="${inbound.processed.path}"/>
    </beans:bean>

    <!-- ====================================================================== -->
    <!-- Place any failed messages here -->
    <!-- ====================================================================== -->
    <beans:bean id="inboundFailedDirectory" class="java.io.File">
        <beans:constructor-arg value="${inbound.failed.path}"/>
    </beans:bean>


</beans:beans>